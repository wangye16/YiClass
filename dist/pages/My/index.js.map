{"version":3,"file":"pages/My/index.js","mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACnMA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACRA;AACA;AAEA;AACA;AACA","sources":["webpack://YiClass/._src_pages_My_index.tsx","webpack://YiClass/._src_components_Empty_index.tsx","webpack://YiClass/./src/pages/My/index.tsx?b4d9","webpack://YiClass/._src_services_my.ts"],"sourcesContent":["import { View, Image, ScrollView } from \"@tarojs/components\";\nimport { useReady } from \"@tarojs/taro\";\nimport { useState } from \"react\";\nimport Empty from '@/components/Empty';\nimport { my_background1 as MyBackgroundImg } from \"@/assets/const\";\nimport { getMyDesc } from \"@/services/my\";\nimport Taro from \"@tarojs/taro\";\nimport \"./index.less\";\nimport { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Index() {\n  const [myDesc, setMyDesc] = useState({});\n  useReady(() => {\n    getClassDesc();\n  });\n  const getClassDesc = async () => {\n    try {\n      const response = await getMyDesc({});\n      const {\n        satusCode,\n        data = {}\n      } = response;\n      setMyDesc(data);\n    } catch (error) {\n      Taro.showToast({\n        title: \"请求失败\",\n        icon: \"error\",\n        duration: 2000\n      });\n      console.log(\"Error sending chat message:\", error);\n    }\n  };\n  const handleClassTap = classInfo => {\n    const {\n      classId\n    } = classInfo;\n    Taro.navigateTo({\n      url: `/pages/Class/ClassDesc/index?classId=${classId}`\n    });\n  };\n  const handleCertificateTap = item => {\n    console.log(\"🚀 ~ handleCertificateTap ~ certificateInfo:\", item);\n    const {\n      id,\n      certificateName,\n      coverImage\n    } = item;\n    Taro.downloadFile({\n      url: coverImage,\n      success: res => {\n        console.log(\"🚀 ~ handleCertificateTap ~ res:\", res);\n        Taro.showShareImageMenu({\n          path: res.tempFilePath\n        });\n      }\n    });\n  };\n  const handleLoginTap = () => {\n    Taro.login({\n      success: function (res) {\n        console.log(\"🚀 ~ handleLoginTap ~ res:\", res);\n        if (res.code) {\n          //发起网络请求\n          Taro.request({\n            url: 'https://test.com/onLogin',\n            data: {\n              code: res.code\n            }\n          });\n        } else {\n          console.log('登录失败！' + res.errMsg);\n        }\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxs(View, {\n    className: \"my-container\",\n    children: [/*#__PURE__*/_jsx(View, {\n      style: {\n        backgroundImage: `url(${MyBackgroundImg})`,\n        backgroundColor: \"#000\",\n        height: 200,\n        backgroundSize: \"cover\",\n        paddingTop: 21,\n        // paddingLeft: 21,\n        boxSizing: \"border-box\",\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignContent: \"center\"\n      },\n      children: !Taro.getStorageSync('avatarUrl') ? /*#__PURE__*/_jsx(_Fragment, {\n        children: /*#__PURE__*/_jsx(View, {\n          style: {\n            fontSize: 16,\n            lineHeight: \"24px\",\n            height: 24,\n            borderBottom: \"1px solid #fff\",\n            marginTop: 28,\n            color: \"#fff\"\n          },\n          onTap: handleLoginTap,\n          children: `去登录 >>`\n        })\n      }) : /*#__PURE__*/_jsx(_Fragment, {\n        children: /*#__PURE__*/_jsxs(View, {\n          style: {\n            height: 70,\n            width: 200\n          },\n          children: [/*#__PURE__*/_jsx(View, {\n            style: {\n              boxSizing: \"border-box\",\n              margin: \"0 auto\",\n              // display: \"inline-block\",\n              // verticalAlign: \"top\",\n              width: 70,\n              height: 70,\n              border: \"2px solid #FFFFFF\",\n              borderRadius: \"50%\",\n              backgroundImage: `url(${Taro.getStorageSync('avatarUrl')})`,\n              backgroundRepeat: 'no-repeat',\n              backgroundPosition: 'center'\n            }\n          }), /*#__PURE__*/_jsx(View, {\n            style: {\n              width: 200,\n              // display: \"inline-block\",\n              // verticalAlign: \"top\",\n              height: 50,\n              lineHeight: \"50px\",\n              fontSize: 18,\n              color: \"#fff\",\n              fontWeight: 600,\n              overflow: \"hidden\",\n              textAlign: \"center\"\n            },\n            children: Taro.getStorageSync('nickName')\n          })]\n        })\n      })\n    }), /*#__PURE__*/_jsx(View, {\n      className: \"list-container\",\n      children: /*#__PURE__*/_jsxs(View, {\n        className: \"my-class-container\",\n        children: [/*#__PURE__*/_jsx(View, {\n          className: \"card-title\",\n          children: \"\\u6211\\u7684\\u8BFE\\u7A0B\"\n        }), myDesc?.myClass?.length ? /*#__PURE__*/_jsx(ScrollView, {\n          scrollX: true,\n          className: \"card-list\",\n          children: myDesc?.myClass?.map(item => /*#__PURE__*/_jsxs(View, {\n            className: \"card-item\",\n            onTap: item => handleClassTap(item),\n            children: [/*#__PURE__*/_jsx(Image, {\n              src: item.coverImage,\n              style: {\n                width: 140,\n                height: 84,\n                borderRadius: 7\n              }\n            }), /*#__PURE__*/_jsx(View, {\n              className: \"card-item-title\",\n              children: item.className\n            })]\n          }))\n        }) : /*#__PURE__*/_jsx(Empty, {})]\n      })\n    }), /*#__PURE__*/_jsx(View, {\n      className: \"list-container\",\n      children: /*#__PURE__*/_jsxs(View, {\n        className: \"my-class-container\",\n        children: [/*#__PURE__*/_jsx(View, {\n          className: \"card-title\",\n          children: \"\\u6211\\u7684\\u8BC1\\u4E66\"\n        }), myDesc?.myCertificate?.length ? /*#__PURE__*/_jsx(ScrollView, {\n          scrollX: true,\n          className: \"card-list\",\n          children: myDesc?.myCertificate?.map(item => /*#__PURE__*/_jsxs(View, {\n            className: \"card-item\",\n            onTap: () => handleCertificateTap(item),\n            children: [/*#__PURE__*/_jsx(Image, {\n              src: item.coverImage,\n              style: {\n                width: 140,\n                height: 84,\n                borderRadius: 7\n              }\n            }), /*#__PURE__*/_jsx(View, {\n              className: \"card-item-title\",\n              children: item.certificateName\n            })]\n          }))\n        }) : /*#__PURE__*/_jsx(Empty, {})]\n      })\n    })]\n  });\n}","import { Empty } from \"@taroify/core\";\r\n\r\n\r\nexport default function Index ({width=100,height=100}) {\r\n  \r\n  return (\r\n    <Empty style={{width:'100%',height:'100%',display:'flex',justifyContent:'center',alignContent:'center'}}>\r\n    <Empty.Image style={{width:width,height:height}}/>\r\n  </Empty>\r\n  )\r\n}\r\n","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../node_modules/.pnpm/@tarojs+taro-loader@4.0.7_webpack@5.91.0_@swc+core@1.3.96_/node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pages/My/index!./index.tsx\"\nvar config = {\"navigationBarTitleText\":\"富山德易堂\",\"usingComponents\":{}};\n\n\nvar inst = Page(createPageConfig(component, 'pages/My/index', {root:{cn:[]}}, config || {}))\n\n\nexport default component\n","import apiClient from './apiClient'\r\nconst prefix = 'my'\r\n\r\nconst getMyDesc = (params:any)=>{\r\n    return apiClient.get(`${prefix}/desc`,params)\r\n}\r\n\r\nexport \r\n{\r\n    getMyDesc\r\n}"],"names":[],"sourceRoot":""}