{"version":3,"file":"pages/Class/ClassList/index.js","mappings":";;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AAAA;AAIA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AAGA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;;;;;;;;;;;;;;;;;;;ACxEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAEA;AAAA;AACA;AAGA;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://YiClass/./src/pages/Class/ClassList/index.tsx?1049","webpack://YiClass/._src_pages_Class_ClassList_components_ClassItem_index.tsx","webpack://YiClass/._src_pages_Class_ClassList_components_ClassList_index.tsx","webpack://YiClass/._src_pages_Class_ClassList_index.tsx"],"sourcesContent":["import { View } from '@tarojs/components';\nimport { useDidShow } from '@tarojs/taro';\nimport ClassList from './components/ClassList';\nimport { getClassListAPI } from '@/services/class';\nimport './index.scss';\nimport { useEffect, useState } from 'react';\nimport Taro from '@tarojs/taro';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function Index() {\n  const [classListArr, setClassListArr] = useState([]);\n  useDidShow(() => {\n    getClassList({});\n  });\n  const getClassList = async props => {\n    try {\n      const response = await getClassListAPI(props);\n      const result = response.data || {};\n      setClassListArr(result.data);\n    } catch (error) {\n      Taro.showToast({\n        title: '请求失败',\n        icon: 'error',\n        duration: 2000\n      });\n      console.log('Error sending chat message:', error);\n    }\n  };\n  useEffect(() => {}, []);\n  return /*#__PURE__*/_jsxs(View, {\n    className: \"class-container\",\n    children: [/*#__PURE__*/_jsx(View, {\n      className: \"search-container\"\n    }), /*#__PURE__*/_jsx(ClassList, {\n      list: classListArr\n    })]\n  });\n}","import { View, Image,Text } from \"@tarojs/components\";\r\nimport Taro from '@tarojs/taro'\r\nimport {defaultImg} from \"@/assets/const\";\r\nimport studentImg from \"@/assets/icons/student.png\";\r\nimport \"./index.less\";\r\nimport { useState } from \"react\";\r\n\r\n\r\nexport default function Index({ classInfo }) {\r\n  // const [paymentStatus,setPaymentStatus] = useState<'paid'|'notPaid'|'free'>()\r\n  const { classId, studyCount,price,coverImage, className, description,requiresPurchase,isPurchased } = classInfo;\r\n  const paymentStatus = !requiresPurchase?'free':(isPurchased?'paid':'notPaid')\r\n  const getPriceText = ()=>{\r\n    let resObj = {text:`¥${price}`,color:'#000'}\r\n    switch (true) {\r\n      case !requiresPurchase:\r\n         resObj.text = '免费'\r\n         resObj.color = '#22C55E'\r\n        break;\r\n        case requiresPurchase && isPurchased:\r\n         resObj.text = '已支付'\r\n         resObj.color = '#22C55E'\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n    return resObj\r\n  }\r\n\r\n  const onClassItemTap=()=>{\r\n    // if (classInfo?.paymentStatus === 'forbid') return\r\n    Taro.navigateTo({\r\n      url:`/pages/Class/ClassDesc/index?classId=${classId}&studyCount=${studyCount}&paymentStatus=${paymentStatus}`\r\n    })\r\n  }\r\n\r\n  return (\r\n    <View \r\n    className=\"class-item\" \r\n    disableScroll\r\n    onTap={onClassItemTap}\r\n    >\r\n      <View\r\n        className=\"cover-img\"\r\n      >\r\n        <Image\r\n          mode='scaleToFill'\r\n          src={`https://fsdyt-1258842400.cos.ap-chengdu.myqcloud.com/video/${classId}/coverImage.jpg` || defaultImg}\r\n          lazyLoad\r\n          style={{\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            background: \"#fff\",\r\n            objectFit: \"contain\",\r\n            borderRadius: \"7px 7px 0 0\",\r\n          }}\r\n        ></Image>\r\n      </View>\r\n      <View className=\"content-area\">\r\n        <View style={{ fontSize: 16, fontWeight: 500 }}>{className}</View>\r\n        <Text className=\"desc-text\">{description}</Text>\r\n\r\n        <View style={{ fontSize: 12, marginTop: 14 ,display:'flex',justifyContent:'space-between'}}>\r\n          <View style={{color:'#4B5563'}}>\r\n            <Image src={studentImg} style={{width:14, height:14,marginRight:3,verticalAlign:'middle'}}></Image>\r\n             <Text style={{verticalAlign:'middle'}}>{studyCount}人学习</Text>\r\n            </View>\r\n          <View style={{fontSize:14,fontWeight:500,color:getPriceText().color}}>{getPriceText().text}</View>\r\n          </View>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n","import { View, Text } from \"@tarojs/components\";\r\nimport ClassItem from \"../ClassItem\";\r\nimport \"./index.less\";\r\nimport { useEffect } from \"react\";\r\n\r\nexport default function Index(props) {\r\n  const { list } = props;\r\n  useEffect(() => {\r\n    console.log(\"ClassList comp loaded.\", props);\r\n  });\r\n\r\n  return (\r\n    <View className=\"class-list\">\r\n      {list?.map((item: any) => (\r\n        <ClassItem classInfo={item || {}} />\r\n      ))}\r\n    </View>\r\n  );\r\n}\r\n","import { createPageConfig } from '@tarojs/runtime'\nimport component from \"!!../../../../node_modules/.pnpm/@tarojs+taro-loader@4.0.7_webpack@5.91.0_@swc+core@1.3.96_/node_modules/@tarojs/taro-loader/lib/entry-cache.js?name=pages/Class/ClassList/index!./index.tsx\"\nvar config = {};\n\n\nvar inst = Page(createPageConfig(component, 'pages/Class/ClassList/index', {root:{cn:[]}}, config || {}))\n\n\nexport default component\n"],"names":[],"sourceRoot":""}